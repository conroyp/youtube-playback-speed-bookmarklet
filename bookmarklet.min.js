javascript:(function(){function r(){const v=document.querySelector("video");if(!v)return;if(window.ytSpeedSaved>0)v.playbackRate=window.ytSpeedSaved}function dark(){return document.documentElement.hasAttribute("dark")}function show(){let i=document.getElementById("ytSpeedIndicator");const s=window.ytSpeedSaved||1,d=dark();if(!i){i=document.createElement("div");i.id="ytSpeedIndicator";i.style="position:fixed;bottom:20px;right:20px;top:auto;padding:6px 10px;border-radius:12px;font-size:12px;font-family:sans-serif;z-index:999998;cursor:pointer;box-shadow:0 0 6px rgba(0,0,0,.3)";i.onclick=open;document.body.appendChild(i)}i.style.background=d?"#eee":"#222";i.style.color=d?"#000":"#fff";i.textContent=s.toFixed(2)+"x";i.style.display="block";i.style.top="auto";i.style.bottom="20px"}function hide(){const i=document.getElementById("ytSpeedIndicator");if(i)i.style.display="none"}function open(){hide();if(document.getElementById("ytSpeedBox"))return;const v=document.querySelector("video");if(!v){alert("No video found");return}const s=window.ytSpeedSaved>0?window.ytSpeedSaved:v.playbackRate,d=dark();const b=document.createElement("div");b.id="ytSpeedBox";b.style="position:fixed;bottom:20px;right:20px;top:auto;z-index:999999;padding:12px;border-radius:8px;font-family:sans-serif;box-shadow:0 0 10px rgba(0,0,0,.5);width:240px;background:"+ (d?"#2a2a2a":"#111")+";color:#fff";const t=document.createElement("div");t.textContent="Playback Speed";t.style="margin-bottom:8px;font-weight:bold";b.appendChild(t);const sl=document.createElement("input");sl.type="range";sl.min="0.2";sl.max="4";sl.step="0.1";sl.value=s;sl.style="width:100%";b.appendChild(sl);const l=document.createElement("div");l.textContent="Custom speed";l.style="margin-top:10px;font-size:13px";b.appendChild(l);const tx=document.createElement("input");tx.type="text";tx.value=s.toFixed(2);tx.style="width:calc(100% - 2px);padding:4px;margin:4px 0 8px;border-radius:4px;border:1px solid #444;background:"+(d?"#111":"#222")+";color:#fff";b.appendChild(tx);sl.oninput=function(){tx.value=sl.value};const ap=document.createElement("button");ap.textContent="Apply";ap.style="width:100%;padding:6px;background:#28a745;color:#fff;border:0;border-radius:4px;cursor:pointer;margin-bottom:10px";ap.onclick=function(){const x=parseFloat(tx.value);if(isNaN(x)||x<=0){alert('Invalid speed');return}window.ytSpeedSaved=x;r();close()};b.appendChild(ap);const sp=document.createElement("div");sp.style="border-top:1px solid #444;margin:8px 0";b.appendChild(sp);const pl=document.createElement("div");pl.textContent="Quick presets";pl.style="margin-bottom:6px;font-size:13px";b.appendChild(pl);const ps=[0.75,1,1.25,1.5,1.75,2],row=document.createElement("div");row.style="display:flex;gap:4px;flex-wrap:wrap;margin-bottom:8px";ps.forEach(function(pv){const bt=document.createElement("button");bt.textContent=pv+"x";bt.style="flex:1;padding:4px;background:"+(d?"#444":"#333")+";color:#fff;border:0;border-radius:4px;cursor:pointer;font-size:12px";bt.onclick=function(){window.ytSpeedSaved=pv;r();close()};row.appendChild(bt)});b.appendChild(row);const cl=document.createElement("button");cl.textContent="Close";cl.style="width:100%;padding:6px;background:"+(d?"#555":"#555")+";color:#fff;border:0;border-radius:4px;cursor:pointer";cl.onclick=close;b.appendChild(cl);function close(){b.remove();show()}document.body.appendChild(b)}if(!window.ytSpeedObserver){window.ytSpeedObserver=new MutationObserver(r);window.ytSpeedObserver.observe(document.body,{childList:true,subtree:true})}if(typeof window.ytSpeedSaved!=="number")window.ytSpeedSaved=0;r();open()})();
